<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Esame CCT - Architettura Microservizi Event-Driven</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
/* --- VARIABILI GLOBALI --- */
:root {
    --bg-color: #020617;
    --slide-bg: #0f172a;
    --accent: #38bdf8;       /* Blue */
    --accent-secondary: #f472b6; /* Pink */
    --text-main: #e2e8f0;
    --text-muted: #94a3b8;
    --color-green: #4ade80;  /* Mongo/Success */
    --color-pink: #f472b6;   /* Kafka */
    --color-red: #f87171;    /* Alerts */
    --color-orange: #f97316; /* Challenges */
}

* { box-sizing: border-box; margin: 0; padding: 0; }

/* --- LAYOUT GENERALE E SCROLL --- */
body {
    background-color: var(--bg-color);
    color: var(--text-main);
    font-family: 'Inter', sans-serif;
    padding: 40px; 
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 40px; 
    margin: 0;
    overflow-y: auto; 
}

/* --- WRAPPER E SLIDE BASE --- */
.slides-wrapper {
    position: relative;
    width: 1280px; 
    height: auto; 
    box-shadow: 0 0 50px rgba(0,0,0,0.5);
}

.slide {
    width: 1280px; 
    height: 720px; 
    background: var(--slide-bg);
    border: 1px solid rgba(255, 255, 255, 0.08);
    position: relative; 
    overflow: hidden;
    display: flex;
    flex-direction: column;
    padding: 60px;
    opacity: 1; 
    pointer-events: auto;
    z-index: 1;
    margin-bottom: 40px; 
}

/* Background Effects (Gradient Blobs) */
.slide::before {
    content: ''; position: absolute; top: -200px; right: -200px; width: 600px; height: 600px;
    background: radial-gradient(circle, rgba(56, 189, 248, 0.08) 0%, transparent 60%);
    border-radius: 50%; pointer-events: none; z-index: 0;
}
.slide::after {
    content: ''; position: absolute; bottom: -200px; left: -200px; width: 600px; height: 600px;
    background: radial-gradient(circle, rgba(99, 102, 241, 0.08) 0%, transparent 60%);
    border-radius: 50%; pointer-events: none; z-index: 0;
}

/* --- NUMERAZIONE PAGINE --- */
.slide-number {
    position: absolute;
    bottom: 30px;
    right: 40px;
    color: var(--text-muted);
    font-family: 'JetBrains Mono', monospace;
    font-size: 16px;
    z-index: 10;
    background: rgba(15, 23, 42, 0.8);
    padding: 5px 10px;
    border-radius: 4px;
}

/* --- TIPOGRAFIA GENERALE --- */
h1 { font-size: 58px; font-weight: 800; letter-spacing: -0.03em; line-height: 1.1; margin-bottom: 20px; color: white; position: relative; z-index: 1; }
h2 { font-size: 42px; font-weight: 700; color: #f8fafc; margin-bottom: 30px; display: flex; align-items: center; gap: 15px; position: relative; z-index: 1; }
h2::before { content: ''; width: 8px; height: 42px; background: var(--accent); border-radius: 4px; display: inline-block; }
h3 { font-size: 24px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; position: relative; z-index: 1; color: var(--accent); } 
p, li { font-size: 20px; color: #cbd5e1; line-height: 1.5; margin-bottom: 10px; position: relative; z-index: 1; }

/* --- CLASSI DI REFACTORING (Stili Specifici H3/H4) --- */
.h3-secondary { color: var(--color-pink); } 
.h3-tertiary { color: var(--color-green); } 

.card p, .card li { font-size: 18px; } 
.title-challenge { color: var(--color-orange); }

.code-block { 
    font-family: 'JetBrains Mono', monospace; 
    background: #0b1120; 
    padding: 10px 12px; 
    border-radius: 6px; 
    border: 1px solid rgba(255,255,255,0.1); 
    border-left: 4px solid var(--accent-secondary); 
    color: #e2e8f0; 
    font-size: 13px; 
    line-height: 1.4; 
    margin-top: 5px; 
    box-shadow: 0 4px 6px rgba(0,0,0,0.3);
    white-space: pre;
    overflow-x: auto;
    position: relative; z-index: 1;
}
.keyword { color: #c084fc; } 
.string { color: #86efac; } 
.value { color: #f472b6; } 

/* Custom styles for Kafka topic/MongoDB details */
.detail-box {
    background: rgba(30, 41, 59, 0.5);
    padding: 20px;
    border-radius: 8px;
    margin-bottom: 0; 
    position: relative; z-index: 1;
    height: 100%;
}
.detail-box h4 {
    font-size: 22px;
    color: var(--accent);
    margin-bottom: 8px; 
    border-bottom: 1px dashed rgba(255,255,255,0.1);
    padding-bottom: 5px;
}
.detail-box.critical h4 { color: var(--color-red); }
.detail-box.storage h4 { color: var(--color-green); }


/* --- LAYOUTS E CARD --- */
.two-col { 
    display: grid; 
    grid-template-columns: 1fr 1fr; 
    gap: 40px; 
    height: auto; 
    align-items: stretch; 
    position: relative; 
    z-index: 1; 
}
.grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 30px; height: auto; align-items: stretch; position: relative; z-index: 1; }

.card {
    background: rgba(30, 41, 59, 0.5);
    border: 1px solid rgba(255,255,255,0.05);
    padding: 25px;
    border-radius: 12px;
    height: 100%;
}
.card h4 { font-size: 26px; color: #fff; margin-bottom: 15px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 10px; }
/* Sottotitoli nelle card della Slide 5 */
.card-subtitle {
    display: block;
    font-size: 14px;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: var(--text-muted);
    margin-bottom: 15px;
}

/* --- STILE UNIFORME LISTE CARD (SLIDE 5, 6, 7) --- */
.card-list ul { 
    padding: 0; 
    list-style: none; 
    margin: 0;
}
.card-list li { 
    font-size: 15px; /* Font descrizione */
    line-height: 1.4;
    color: #cbd5e1;
    margin-bottom: 15px; /* Spaziatura uniforme */
    display: block; 
}
.card-list li:last-child {
    margin-bottom: 0;
}
/* Titoli in grassetto su una riga separata */
.card-list li strong {
    display: block; /* Forza a capo il contenuto successivo */
    color: white;
    font-size: 17px; /* Font titolo leggermente pi√π grande */
    margin-bottom: 2px; /* Minima spaziatura con la descrizione */
    font-weight: 700;
}
/* Eccezione per lo snippet di codice nella slide 5 */
.card-list li.code-li strong { display: inline; color: inherit; font-size: inherit; }

/* Colori bordi specifici Slide 5 */
.kong-auth { border-left: 4px solid var(--color-red); }
.kong-traffic { border-left-color: var(--color-orange); }
.kong-config { border-left-color: var(--accent); }


/* Architecture Diagram */
.arch-diagram {
    display: flex; align-items: center; justify-content: space-between;
    background: rgba(15, 23, 42, 0.8); padding: 30px 20px;
    border-radius: 12px; margin-top: 20px;
    position: relative; z-index: 1;
}
/* CAPTION DEL DIAGRAMMA */
.diagram-caption {
    position: absolute;
    top: 15px;
    left: 0;
    width: 100%;
    text-align: center;
    font-size: 14px;
    font-family: 'Inter', sans-serif;
    font-style: italic;
    color: var(--text-muted);
}

.arch-node {
    background: #1e293b; border: 2px solid #334155; padding: 15px;
    border-radius: 8px; text-align: center; width: 130px; z-index: 2;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.5);
}
.arch-node i { font-size: 28px; margin-bottom: 8px; display: block; }
.arch-node span { font-weight: 700; font-size: 13px; display: block; color: #f1f5f9; }
.arch-node.kong { border-color: var(--accent); }
.arch-node.kafka { border-color: var(--accent-secondary); }
.arch-node.mongo { border-color: var(--color-green); }
.arch-arrow {
    flex-grow: 1; height: 2px; background: #475569; position: relative; margin: 0 5px;
}
.arch-arrow::after { content: '‚ñ∫'; position: absolute; right: -5px; top: -6px; color: #475569; font-size: 10px; }

/* --- NFP List (OTTIMIZZATO PER SPAZIO) --- */
.nfp-list { 
    display: grid; 
    grid-template-columns: repeat(2, 1fr); 
    gap: 20px; 
    margin-top: 10px; 
}
.nfp-item { 
    background: rgba(30, 41, 59, 0.4); 
    padding: 18px; 
    border-radius: 8px; 
    border-left: 4px solid var(--accent); 
    position: relative; z-index: 1;
}
.nfp-item strong { 
    color: #f8fafc; 
    font-size: 19px; 
    display: block; 
    margin-bottom: 8px; 
}
/* Stili specifici per le liste dentro NFP per risparmiare spazio */
.nfp-item ul { margin: 0; padding-left: 20px; }
.nfp-item li { 
    font-size: 15px; 
    line-height: 1.4; 
    margin-bottom: 5px; 
}

/* Challenge Cards */
.challenge-card {
    background: #1e293b;
    border-left: 4px solid; 
    padding: 20px;
    border-radius: 8px;
    height: 100%;
}
.challenge-card h4 { 
    font-size: 20px; 
    margin-bottom: 15px; 
    border-bottom: none; 
    padding-bottom: 0; 
    display: flex; 
    align-items: center; 
    gap: 10px; 
} 

/* Challenge Card Modifiers */
.challenge-net { border-left-color: var(--accent); }
.challenge-net h4 { color: var(--accent); }

.challenge-kafka { border-left-color: var(--color-pink); }
.challenge-kafka h4 { color: var(--color-pink); }

.challenge-mongo { border-left-color: var(--color-green); }
.challenge-mongo h4 { color: var(--color-green); }

/* --- NUOVI STILI PER ETICHETTE SFIDE (Migliorato) --- */
.challenge-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.challenge-list li {
    font-size: 16px;
    color: #cbd5e1; /* Testo descrittivo neutro */
    margin-bottom: 15px;
    display: flex;
    flex-direction: column; /* Impila etichetta e testo per chiarezza */
    gap: 4px;
}

/* Etichette colorate per Problema/Soluzione */
.label-problem { color: var(--color-red); font-weight: 700; display: flex; align-items: center; gap: 8px; }
.label-solution { color: var(--color-green); font-weight: 700; display: flex; align-items: center; gap: 8px; }
.label-result { color: #f8fafc; font-weight: 700; display: flex; align-items: center; gap: 8px; }


/* --- STILI PER IL FLUSSO DI COMPRESSIONE --- */
.compression-flow {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 30px;
    margin-top: 20px;
    padding: 20px;
    background: rgba(30, 41, 59, 0.3);
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}
.flow-step {
    background: #1e293b;
    padding: 15px 25px;
    border-radius: 8px;
    text-align: center;
    border: 1px solid rgba(255, 255, 255, 0.1);
    min-width: 200px;
}
.flow-step strong { display: block; font-size: 18px; margin-bottom: 5px; }
.flow-step span { font-size: 14px; color: var(--text-muted); }
.flow-arrow { font-size: 24px; color: var(--text-muted); }
.flow-step.kafka-box { border-color: var(--color-pink); }
.flow-step.mongo-box { border-color: var(--color-green); }
.flow-step.kafka-box strong { color: var(--color-pink); }
.flow-step.mongo-box strong { color: var(--color-green); }

/* --- KRAFT BOX STYLE --- */
.kraft-box {
    background: rgba(30, 41, 59, 0.5);
    padding: 20px;
    border-radius: 8px;
    border-left: 4px solid var(--color-pink);
    margin-bottom: 15px; 
    width: 100%;
}
.kraft-box h4 { color: var(--color-pink); font-size: 20px; margin-bottom: 10px; }
.kraft-box p { font-size: 16px; margin: 0; }


/* UI (Hidden in Print) */
.export-btn { display: none; }

/* --- PRINT/PDF EXPORT STYLES --- */
@media print {
    @page { size: 1280px 720px; margin: 0; } 
    
    body { 
        background-color: white; 
        width: 1280px; height: auto;
        display: block; margin: 0; padding: 0; 
        overflow: visible;
    }
    
    .slides-wrapper { 
        width: 1280px !important; 
        height: auto !important; 
        box-shadow: none; 
        position: relative !important;
        margin: 0 !important;
    }
    
    .slide { 
        position: relative !important; 
        page-break-after: always;
        width: 1280px; height: 720px;
        background-color: var(--slide-bg) !important;
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
        display: flex !important;
        padding: 60px;
        margin-bottom: 0;
    }
    
    .slide:last-child { page-break-after: avoid; }
}
    </style>
</head>
<body>

<div class="slides-wrapper">

    <!-- SLIDE 1: INTRO -->
    <div class="slide">
        <div style="display: flex; flex-direction: column; justify-content: center; height: 100%; text-align: center;">
            
            <h1>Architettura Microservizi<br>Event-Driven su Kubernetes</h1>
            <div style="width: 100px; height: 4px; background: #38bdf8; margin: 40px auto; border-radius: 2px;"></div>
            <p style="font-size: 24px; color: #94a3b8; max-width: 800px; margin: 0 auto;">Implementazione di una pipeline IoT scalabile per la gestione differenziata di flussi ad alta frequenza e criticit√†.</p>
            
            <div style="margin-top: 60px; text-align: center; color: #cbd5e1; font-family: 'Inter', sans-serif; font-size: 20px;">
                <p style="margin-bottom: 5px;"><strong>Studente:</strong> Enea Manzi</p>
                <p style="margin-bottom: 5px;"><strong>Corso:</strong> Cloud Computing Technologies</p>
                <p><strong>Anno Accademico:</strong> 2025/2026</p>
            </div>
        </div>
    </div>

    <!-- SLIDE 2: OBIETTIVI & CONTESTO -->
    <div class="slide">
        <h2>Obiettivi Architetturali & Requisiti</h2>
        
        <!-- WRAPPER DI CENTRATURA PER SLIDE 2 -->
        <div style="flex-grow: 1; display: flex; flex-direction: column; justify-content: center;">
            <div style="margin-bottom: 30px; background: rgba(56, 189, 248, 0.1); padding: 20px; border-radius: 8px;">
                <p style="margin: 0; color: #e2e8f0; font-size: 20px;">
                    <i class="fa-solid fa-industry" style="color: #38bdf8; margin-right: 10px;"></i>
                    <strong>Scenario:</strong> Monitoraggio real-time di una rete eterogenea di sensori IoT industriali.
                </p>
            </div>
            
            <div class="two-col">
                <div class="card">
                    <h4 class="h3-secondary">Project 1: Apache Kafka</h4>
                    <p style="color: var(--text-muted); margin-bottom: 15px;">Sistema di messaging asincrono</p>
                    <ul style="list-style: none; padding: 0;">
                        <li><i class="fa-solid fa-check" style="color:var(--color-pink); margin-right:8px;"></i><strong>Fault Tolerance & HA</strong></li>
                        <li><i class="fa-solid fa-check" style="color:var(--color-pink); margin-right:8px;"></i><strong>Advanced Security</strong> <i>(channel encryption, authentication)</i></li>
                        <li><i class="fa-solid fa-check" style="color:var(--color-pink); margin-right:8px;"></i><strong>Topic Differenziati per QoS</strong></li>
                    </ul>
                </div>
                <div class="card">
                    <h4 style="color: var(--accent);">Project 3: Kong API Gateway</h4>
                    <p style="color: var(--text-muted); margin-bottom: 15px;">Edge API Gateway and Ingress Controller</p>
                    <ul style="list-style: none; padding: 0;">
                        <li><i class="fa-solid fa-check" style="color:var(--accent); margin-right:8px;"></i><strong>Gateway Offloading:</strong> Autenticazione <i>(API Key)</i> e Load Balancing</li>
                        <li><i class="fa-solid fa-check" style="color:var(--accent); margin-right:8px;"></i><strong>Security:</strong> Rate Limiting dos protection</li>
                        <li><i class="fa-solid fa-check" style="color:var(--accent); margin-right:8px;"></i><strong>Infrastructure as Code:</strong> Kubernetes CRD</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- SLIDE 3: ARCHITECTURE -->
    <div class="slide">
        <h2>Architettura e Flusso Dati (Event-Driven) </h2>
        
        <!-- WRAPPER DI CENTRATURA PER SLIDE 3 -->
        <div style="flex-grow: 1; display: flex; flex-direction: column; justify-content: center;">
            <p style="text-align: center; margin-bottom: 30px; color: #94a3b8;">La pipeline √® segmentata in namespace logici (`kong`, `kafka`, `metrics`) per garantire la Separation of Concerns.</p>
            
            <div class="arch-diagram">
                <!-- TITOLO AGGIUNTO AL DIAGRAMMA (Centrato) -->
                <div class="diagram-caption">Asynchronous Data Flow</div>
                
                <div class="arch-node">
                    <i class="fa-solid fa-laptop-code" style="color: #cbd5e1;"></i>
                    <span>Sensors</span>
                </div>
                <div class="arch-arrow"></div>
                <div class="arch-node kong">
                    <i class="fa-solid fa-shield-halved" style="color: var(--accent);"></i>
                    <span>Kong GW</span>
                </div>
                <div class="arch-arrow"></div>
                <div class="arch-node">
                    <i class="fa-brands fa-python" style="color: #fbbf24;"></i>
                    <span>Producer</span>
                </div>
                <div class="arch-arrow"></div>
                <div class="arch-node kafka">
                    <i class="fa-solid fa-server" style="color: var(--accent-secondary);"></i>
                    <span>Kafka</span>
                </div>
                <div class="arch-arrow"></div>
                <div class="arch-node">
                    <i class="fa-solid fa-microchip" style="color: #fbbf24;"></i>
                    <span>Consumer</span>
                </div>
                <div class="arch-arrow"></div>
                <div class="arch-node mongo">
                    <i class="fa-solid fa-database" style="color: var(--color-green);"></i>
                    <span>MongoDB</span>
                </div>
            </div>
            
            <!-- CONTENUTO SINTETICO E A COLONNE (Opzione 1) -->
            <div style="margin-top: 40px; font-size: 18px;">
                <div class="two-col" style="gap: 20px;">
                    <ul style="list-style: disc; padding-left: 20px;">
                        <li><strong>Kong GW:</strong> Gateway Offloading & API Key Validation.</li>
                        <li><strong>Producer:</strong> Data Enrichment (UUID) & Smart Routing.</li>
                        <li><strong>Kafka:</strong> Buffer Persistente & Backpressure Management.</li>
                    </ul>
                    <ul style="list-style: disc; padding-left: 20px;">
                        <li><strong>Consumer:</strong> Normalizzazione & Zero Data Loss Logic.</li>
                        <li><strong>MongoDB:</strong> Time Series Storage (Zstd Compression).</li>
                        <li><strong>Metrics:</strong> Analytics & Aggregazioni On-Demand.</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- SLIDE 4: KAFKA -->
    <div class="slide">
        <h2>Apache Kafka: Topic Strategy & Durability</h2>
        
        <div style="display: flex; flex-direction: column; height: 100%; justify-content: space-between;">
            <!-- 1. KRAFT MODE (Full Width) -->
            <div class="kraft-box">
                <h4><i class="fa-solid fa-microchip"></i> KRaft Mode (No ZooKeeper)</h4>
                <p style="font-size: 18px; color: #cbd5e1;">
                    <i class="fa-solid fa-circle-check" style="color:var(--color-pink);"></i> Metadata Management Interno &nbsp;&nbsp;&nbsp;
                    <i class="fa-solid fa-server" style="color:var(--color-pink);"></i> Controller & Broker NodePools separati &nbsp;&nbsp;&nbsp;
                    <i class="fa-solid fa-feather" style="color:var(--color-pink);"></i> Risorse minori
                </p>
            </div>

            <!-- 2. TOPICS (Due Colonne) -->
            <div class="two-col" style="height: auto; flex-grow: 1; margin-bottom: 10px; margin-top: 0;">
                <!-- Colonna 1: Topic Telemetry -->
                <div class="detail-box">
                    <h4 class="detail-box-title">Topic: <code>sensor-telemetry</code> (Alta Frequenza)</h4>
                    <p style="font-size: 16px; margin-bottom: 5px; color: #cbd5e1;">Flussi massivi (Telemetria, Boot, Update): <strong>Efficienza</strong></p>
                    <div class="code-block" style="border-left-color: var(--color-pink);">
partitions: 3
config:
  compression.type: lz4
  retention.ms: 604800000
                    </div>
                </div>
                
                <!-- Colonna 2: Topic Alerts -->
                <div class="detail-box critical">
                    <h4 class="detail-box-title">Topic: <code>sensor-alerts</code> (Critico / Durabilit√†)</h4>
                    <p style="font-size: 16px; margin-bottom: 5px; color: #cbd5e1;">Eventi sporadici (Allarmi): <strong>Garanzia di Consegna</strong></p>
                    <div class="code-block" style="border-left-color: var(--color-red);">
partitions: 2
config:
  min.insync.replicas: 2
  retention.ms: 2592000000
                    </div>
                </div>
            </div>

            <!-- 3. COMPRESSION FLOW -->
            <div>
                 <h3 class="h3-secondary" style="margin-bottom: 10px; font-size: 22px;"><i class="fa-solid fa-gauge-high"></i> Compressione Ibrida</h3>
                 <div class="compression-flow">
                    <div class="flow-step kafka-box">
                        <strong>Kafka: LZ4</strong>
                        <span>Transport Layer<br>Bassa latenza</span>
                    </div>
                    <div class="flow-arrow"><i class="fa-solid fa-arrow-right"></i></div>
                    <div class="flow-step mongo-box">
                        <strong>MongoDB: Zstd</strong>
                        <span>Storage Layer<br>Disk efficiency</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- SLIDE 5: KONG (AGGIORNATA) -->
    <div class="slide">
        <h2>Kong Gateway: Edge Computing & Security Offloading</h2>
        
        <!-- WRAPPER PER CENTRATURA VERTICALE -->
        <div style="flex-grow: 1; display: flex; flex-direction: column; justify-content: center;">
            <div class="grid-3" style="align-items: stretch; height: auto;">
                
                <!-- CARD 1: AUTHENTICATION -->
                <div class="card kong-card kong-auth card-list">
                    <h4 style="color: var(--color-red);"><i class="fa-solid fa-lock"></i> Authentication</h4>
                    <span class="card-subtitle">Gateway Offloading</span>
                    <ul>
                        <li><strong>Plugin</strong>key-auth</li>
                        <li><strong>Check vs</strong>Kubernetes Secrets</li>
                        <li><strong>Block</strong>401 Unauthorized (Edge)</li>
                        <li><strong>Zero-Downtime Revocation</strong></li>
                    </ul>
                </div>

                <!-- CARD 2: TRAFFIC CONTROL -->
                <div class="card kong-card kong-traffic card-list">
                    <h4 style="color: var(--color-orange);"><i class="fa-solid fa-traffic-light"></i> Traffic Control</h4>
                    <span class="card-subtitle">Protection & Routing</span>
                    <ul>
                        <li><strong>Policy: Rate Limiting</strong>5 req/sec</li>
                        <li><strong>Defense</strong>Anti-DoS / Flood (429)</li>
                        <li><strong>Routing: Load Balancing</strong>Round-Robin</li>
                        <li><strong>Gestione nativa:</strong>Service + Kong Ingress</li>
                    </ul>
                </div>

                <!-- CARD 3: CONFIGURATION -->
                <div class="card kong-card kong-config card-list">
                    <h4 style="color: var(--accent);"><i class="fa-solid fa-cogs"></i> Configuration</h4>
                    <span class="card-subtitle">Infrastructure as Code</span>
                    <ul>
                        <li><strong>Format</strong>Kubernetes CRD</li>
                        <li><strong>Approach</strong>100% Declarative</li>
                        <li><strong>Ops</strong>No UI / CI/CD Ready</li>
                        <li class="code-li" style="margin-top: 15px;">
                            <span style="display:block; font-family: 'JetBrains Mono', monospace; font-size: 11px; line-height: 1.4; color: var(--accent);">
                                kind: Ingress<br>
                                &nbsp;&nbsp;annotations:<br>
                                &nbsp;&nbsp;&nbsp;&nbsp;konghq.com/plugins: key-auth, global-rate-limit
                            </span>
                        </li>
                    </ul>
                </div>

            </div>
        </div>
    </div>

    <!-- SLIDE 6: MONGODB (AGGIORNATA CON NUOVA STRUTTURA) -->
    <div class="slide">
        <h2>Persistenza: MongoDB Time Series Collection</h2>
        
        <!-- WRAPPER PER CENTRATURA VERTICALE -->
        <div style="flex-grow: 1; display: flex; flex-direction: column; justify-content: center;">
            <div class="grid-3" style="align-items: stretch; height: auto;">
                
                <!-- CARD 1: TIME SERIES -->
                <div class="card mongo-card card-list" style="border-left: 4px solid var(--color-green);">
                    <h4 style="color: var(--color-green);"><i class="fa-solid fa-database"></i> Time Series & Storage</h4>
                    <ul>
                        <li><strong>Compressione Zstd</strong>Risparmio disco ~70%</li>
                        <li><strong>Indici Clustered</strong>Query veloci su range temporali</li>
                        <li><strong>TTL Automatico</strong>Pulizia dati dopo 30 giorni</li>
                    </ul>
                </div>

                <!-- CARD 2: INFRASTRUCTURE -->
                <div class="card mongo-card card-list" style="border-left: 4px solid var(--accent);">
                    <h4 style="color: var(--accent);"><i class="fa-solid fa-server"></i> Infrastruttura (StatefulSet)</h4>
                    <ul>
                        <li><strong>StatefulSet vs Deployment</strong>Identit√† stabile</li>
                        <li><strong>PVC Binding</strong>Riacquisizione disco garantita dopo crash</li>
                        <li><strong>Identit√† di Rete</strong>mongo-0 persistente</li>
                    </ul>
                </div>

                <!-- CARD 3: CONFIGURATION -->
                <div class="card mongo-card card-list" style="border-left: 4px solid var(--color-pink);">
                    <h4 style="color: var(--color-pink);"><i class="fa-solid fa-sliders"></i> Configurazione (Cloud Native)</h4>
                    <ul>
                        <li><strong>ConfigMap</strong>Host, Port, DB Name (Non sensibili)</li>
                        <li><strong>Secrets</strong>User/Password (Iniettate come Env Vars)</li>
                        <li><strong>No Hardcoding</strong>Best Practice di sicurezza</li>
                    </ul>
                </div>

            </div>
        </div>
    </div>

    <!-- SLIDE 7: MICROSERVICES (AGGIORNATA E UNIFORMATA) -->
    <div class="slide">
        <h2>Microservices Implementation</h2>
        <p style="margin-bottom: 30px;">Tutti i servizi sono <strong>containerizzati</strong> (Python 3.11) e gestiti come Deployment/StatefulSet su Kubernetes.</p>
        
        <!-- WRAPPER PER CENTRATURA VERTICALE -->
        <div style="flex-grow: 1; display: flex; flex-direction: column; justify-content: center;">
            <div class="grid-3" style="align-items: stretch; height: auto;">
                
                <!-- PRODUCER -->
                <div class="card micro-card card-list" style="border-left: 4px solid var(--accent);">
                    <h4 style="color: var(--accent);"><i class="fa-solid fa-gear"></i> PRODUCER</h4>
                    <ul>
                        <li><strong>Stateless API</strong>(Flask)</li>
                        <li><strong>Enrichment</strong>UUID + Timestamp</li>
                        <li><strong>Pattern</strong>Idempotency Token</li>
                        <li><strong>Sec</strong>SASL/TLS 9093</li>
                    </ul>
                </div>

                <!-- CONSUMER -->
                <div class="card micro-card card-list" style="border-left: 4px solid var(--color-pink);">
                    <h4 style="color: var(--color-pink);"><i class="fa-solid fa-microchip"></i> CONSUMER</h4>
                    <ul>
                        <li><strong>Stateful Worker</strong>Sottoscrive entrambi topics</li>
                        <li><strong>Action</strong>Normalize & Store</li>
                        <li><strong>Feature</strong>Buffering (Zero Data Loss)</li>
                        <li><strong>Scale</strong>3 Replicas (match Partitions)</li>
                    </ul>
                </div>

                <!-- METRICS -->
                <div class="card micro-card card-list" style="border-left: 4px solid var(--color-green);">
                    <h4 style="color: var(--color-green);"><i class="fa-solid fa-chart-line"></i> METRICS</h4>
                    <ul>
                        <li><strong>Analytics Service</strong>&nbsp;</li>
                        <li><strong>Source</strong>MongoDB Time Series</li>
                        <li><strong>Endpoints</strong>5 Aggregations</li>
                        <li><strong>Query</strong>Real-time on Indexed Data</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- SLIDE 8: NFP -->
    <div class="slide">
        <h2>Non-Functional Properties: Validation Matrix</h2>
        <p style="margin-bottom: 15px;">Le NFP sono validate tramite scenari di test specifici (Demo Live).</p>
        <div class="grid-3" style="align-items: stretch; height: auto; flex-grow: 1; display: flex; flex-direction: column; justify-content: center;">
            <div class="grid-3" style="align-items: stretch;">

            <!-- CARD 1: SECURITY -->
            <div class="card card-list" style="border-left: 4px solid var(--color-red);">
                <h4 style="color: var(--color-red);"><i class="fa-solid fa-lock"></i> SECURITY</h4>
                <ul>
                    <li><strong>Data in Transit</strong>TLS 9093 + SASL/SCRAM</li>
                    <li><strong>Edge Protection</strong>API Key & Rate Limit</li>
                    <li><strong>Secrets</strong>K8s Native Management</li>
                </ul>
            </div>

            <!-- CARD 2: RESILIENCE -->
            <div class="card card-list" style="border-left: 4px solid var(--accent);">
                <h4 style="color: var(--accent);"><i class="fa-solid fa-heart-pulse"></i> RESILIENCE & HA</h4>
                <ul>
                    <li><strong>Fault Tolerance</strong>Kafka Buffering (Zero Data Loss)</li>
                    <li><strong>High Availability</strong>Self-Healing & Auto-Recovery</li>
                </ul>
            </div>

            <!-- CARD 3: SCALABILITY -->
            <div class="card card-list" style="border-left: 4px solid var(--color-green);">
                <h4 style="color: var(--color-green);"><i class="fa-solid fa-chart-line"></i> SCALABILITY</h4>
                <ul>
                    <li><strong>Load Balancing</strong>Round-Robin</li>
                    <li><strong>Parallelism</strong>3 Replicas / 3 Partitions</li>
                    <li><strong>Auto-Scaling</strong>HPA (CPU > 50%)</li>
                </ul>
            </div>
            </div>
        </div>
    </div>
    
    <!-- SLIDE 9: SFIDE (AGGIORNATA v3) -->
    <div class="slide">
        <h2>Sfide Tecniche & Soluzioni Consapevoli</h2>
        <div style="flex-grow: 1; display: flex; flex-direction: column; justify-content: center;">
            <div class="grid-3" style="align-items: stretch; height: auto;">
                
                <!-- CARD 1: NETWORKING -->
                <div class="card challenge-card challenge-net">
                    <h4><i class="fa-solid fa-network-wired"></i> NETWORKING & REACHABILITY</h4>
                    <ul class="challenge-list">
                        <li>
                            <span class="label-problem"><i class="fa-solid fa-circle-xmark"></i> Problema:</span>
                            Docker Desktop Network Isolation blocca l'accesso agli Ingress.
                        </li>
                        <li>
                             <span class="label-solution"><i class="fa-solid fa-circle-check"></i> Soluzione:</span>
                             Migrazione a Minikube Native Driver per esporre IP cluster.
                        </li>
                        <li>
                             <span class="label-result"><i class="fa-solid fa-flag"></i> Risultato:</span>
                             Esposizione diretta e risoluzione DNS nip.io funzionante.
                        </li>
                    </ul>
                </div>

                <!-- CARD 2: KAFKA / IDEMPOTENCY -->
                <div class="card challenge-card challenge-kafka">
                    <h4><i class="fa-solid fa-fingerprint"></i> IDEMPOTENCY & AT-LEAST-ONCE</h4>
                    <ul class="challenge-list">
                        <li>
                            <span class="label-problem"><i class="fa-solid fa-circle-xmark"></i> Problema:</span>
                            Rischio di messaggi duplicati se il Consumer crasha pre-commit.
                        </li>
                        <li>
                             <span class="label-solution"><i class="fa-solid fa-circle-check"></i> Soluzione:</span>
                             Implementazione UUID Univoco nel Producer.
                        </li>
                        <li>
                             <span class="label-result"><i class="fa-solid fa-flag"></i> Risultato:</span>
                             Architettura pronta per Upsert Idempotente su DB.
                        </li>
                    </ul>
                </div>

                <!-- CARD 3: MONGODB / STATEFULNESS -->
                <div class="card challenge-card challenge-mongo">
                    <h4><i class="fa-solid fa-hard-drive"></i> STATEFULNESS MONGODB</h4>
                    <ul class="challenge-list">
                        <li>
                            <span class="label-problem"><i class="fa-solid fa-circle-xmark"></i> Problema:</span>
                            Deployment stateless perde il binding PVC al riavvio.
                        </li>
                        <li>
                             <span class="label-solution"><i class="fa-solid fa-circle-check"></i> Soluzione:</span>
                             Adozione del pattern StatefulSet per MongoDB.
                        </li>
                        <li>
                             <span class="label-result"><i class="fa-solid fa-flag"></i> Risultato:</span>
                             Identit√† stabile (mongo-0) e riaggancio immediato disco.
                        </li>
                    </ul>
                </div>

            </div>
        </div>
    </div>

    <!-- SLIDE 10: ROADMAP -->
    <div class="slide">
        <h2>Roadmap Demo</h2>
        
        <!-- Contenuto Sequenza di Validazione occupa l'intera larghezza e centrato -->
        <div style="display: flex; justify-content: center; width: 100%; height: 100%;">
            <div class="card" style="border-left: 4px solid var(--accent); background: #1e293b; width: 800px; height: auto;">
                <h4 style="color: var(--accent);">üìã Sequenza di Validazione (20 min)</h4>
                <div style="margin-bottom: 15px;">
                    <strong style="color: white; display: block; margin-bottom: 5px; font-size: 20px;">PARTE 1: Test Base</strong>
                    <ul style="font-size: 18px; list-style: disc; padding-left: 20px;">
                        <li>Pipeline completa: Invio eventi + Lettura Metriche</li>
                    </ul>
                </div>
                <div>
                    <strong style="color: white; display: block; margin-bottom: 5px; font-size: 20px;">PARTE 2: NFP Validation</strong>
                    <ol style="font-size: 18px; list-style: decimal; padding-left: 20px;">
                        <li><strong>Security:</strong> Auth(API key) + TLS Verification + SASL + Mongo</li>
                        <li><strong>Fault Tolerance:</strong> Consumer Crash & Recovery (Buffering)</li>
                        <li><strong>HA:</strong> Pod Kill & Self-Healing</li>
                        <li><strong>Scalability:</strong> Manual Scale Out & LB</li>
                        <li><strong>Elasticit√†:</strong> HPA Stress Test</li>
                        <li><strong>Rate Limiting:</strong> DoS Protection (429)</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>
    
    <!-- SLIDE 11: Q&A -->
    <div class="slide">
        <div style="display: flex; flex-direction: column; justify-content: center; height: 100%; text-align: center;">
            <i class="fa-regular fa-comments accent" style="font-size: 80px; margin-bottom: 30px; color: var(--accent);"></i>
            <h1>Q & A</h1>
            <p style="font-size: 24px; color: #94a3b8;">Grazie per l'attenzione. Sono disponibile per domande sull'architettura e l'implementazione.</p>
            <div style="margin-top: 60px;">
                <p class="code-block" style="display: inline-block; border: 1px solid rgba(255,255,255,0.1); box-shadow: none;">
                    <a href="https://github.com/eneamanzi/k8s-kafka-kong" 
                    target="_blank" 
                    style="text-decoration: none; color: inherit;">
                        github.com/eneamanzi/k8s-kafka-kong
                    </a>
                </p>
            </div>
        </div>
    </div>

    

</div>

<!-- SCRIPT NUMERAZIONE PAGINE AUTOMATICA -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        // Seleziona tutte le slide
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;

        // Itera su ogni slide per aggiungere il numero di pagina
        slides.forEach((slide, index) => {
            // Crea il div per il numero
            const pageNumDiv = document.createElement('div');
            pageNumDiv.className = 'slide-number';
            // Formato: Slide Corrente / Totale
            pageNumDiv.textContent = `${index + 1} / ${totalSlides}`;
            
            // Aggiungi il div alla slide
            slide.appendChild(pageNumDiv);
        });
    });
</script>

</body>
</html>